0x60806040526004361061021e5760003560e01c80635342acb41161012357806395d89b41116100ab578063c49b9a801161006f578063c49b9a80146106ef578063dd62ed3e1461070f578063ea2f0b3714610755578063f2fde38b14610775578063f5b3c3bf1461079557600080fd5b806395d89b41146106425780639fe907891461066f578063a457c2d71461068f578063a9059cbb146106af578063c4081a4c146106cf57600080fd5b80637bb37c8e116100f25780637bb37c8e1461059657806388f82020146105b65780638da5cb5b146105ef578063908bb2ae1461060d578063916a47f71461062d57600080fd5b80635342acb4146105125780636bc87c3a1461054b57806370a0823114610561578063715018a61461058157600080fd5b80633685d419116101a6578063437823ec11610175578063437823ec146104735780634549b0391461049357806349bd5a5e146104b35780634a74bb02146104d357806352390c02146104f257600080fd5b80633685d419146103fd578063395093511461041d5780633b124fe71461043d5780633bd5d1731461045357600080fd5b806318160ddd116101ed57806318160ddd1461034a57806323b872dd1461036d5780632ba7ac3d1461038d578063313ce567146103c1578063357bf15c146103dd57600080fd5b806306fdde0314610281578063095ea7b3146102c25780631694505e146102f2578063173865ad1461032a57600080fd5b3661027c57600f5460ff1661027a5760405162461bcd60e51b815260206004820152601b60248201527f436f6e74726163742063616e6e6f74207265636569766520424e42000000000060448201526064015b60405180910390fd5b005b600080fd5b34801561028d57600080fd5b50604080518082019091526006815265534f4d42524160d01b60208201525b6040516102b99190612974565b60405180910390f35b3480156102ce57600080fd5b506102e26102dd36600461285a565b6107c5565b60405190151581526020016102b9565b3480156102fe57600080fd5b50600b54610312906001600160a01b031681565b6040516001600160a01b0390911681526020016102b9565b34801561033657600080fd5b5061027a6103453660046128f1565b6107dc565b34801561035657600080fd5b5061035f61091a565b6040519081526020016102b9565b34801561037957600080fd5b506102e26103883660046127e4565b61093b565b34801561039957600080fd5b506103127f000000000000000000000000e020ac69748de81626f9c283179a2c0902e7aaca81565b3480156103cd57600080fd5b50604051600981526020016102b9565b3480156103e957600080fd5b5061027a6103f83660046128f1565b6109e5565b34801561040957600080fd5b5061027a610418366004612771565b610afb565b34801561042957600080fd5b506102e261043836600461285a565b610c51565b34801561044957600080fd5b5061035f60095481565b34801561045f57600080fd5b5061027a61046e3660046128f1565b610c8d565b34801561047f57600080fd5b5061027a61048e366004612771565b610d7d565b34801561049f57600080fd5b5061035f6104ae366004612923565b610e02565b3480156104bf57600080fd5b50600c54610312906001600160a01b031681565b3480156104df57600080fd5b50600f546102e290610100900460ff1681565b3480156104fe57600080fd5b5061027a61050d366004612771565b610e88565b34801561051e57600080fd5b506102e261052d366004612771565b6001600160a01b031660009081526004602052604090205460ff1690565b34801561055757600080fd5b5061035f600a5481565b34801561056d57600080fd5b5061035f61057c366004612771565b610feb565b34801561058d57600080fd5b5061027a61104a565b3480156105a257600080fd5b5061027a6105b1366004612825565b611080565b3480156105c257600080fd5b506102e26105d1366004612771565b6001600160a01b031660009081526005602052604090205460ff1690565b3480156105fb57600080fd5b506000546001600160a01b0316610312565b34801561061957600080fd5b5061027a610628366004612771565b6110b8565b34801561063957600080fd5b5060065461035f565b34801561064e57600080fd5b5060408051808201909152600481526329a6a12960e11b60208201526102ac565b34801561067b57600080fd5b5061027a61068a3660046128f1565b6113c7565b34801561069b57600080fd5b506102e26106aa36600461285a565b61143c565b3480156106bb57600080fd5b506102e26106ca36600461285a565b6114d5565b3480156106db57600080fd5b5061027a6106ea3660046128f1565b6114e2565b3480156106fb57600080fd5b5061027a61070a366004612886565b6115f0565b34801561071b57600080fd5b5061035f61072a3660046127ab565b6001600160a01b03918216600090815260036020908152604080832093909416825291909152205490565b34801561076157600080fd5b5061027a610770366004612771565b611663565b34801561078157600080fd5b5061027a610790366004612771565b6116de565b3480156107a157600080fd5b506102e26107b0366004612771565b600e6020526000908152604090205460ff1681565b60006107d2338484611779565b5060015b92915050565b600f805460ff191660011790553330146108435760405162461bcd60e51b815260206004820152602260248201527f63616e206f6e6c792062652063616c6c65642062792074686520636f6e74726160448201526118dd60f21b6064820152608401610271565b61084b61189e565b156108985760405162461bcd60e51b815260206004820152601860248201527f706f737369626c65206c697175696469747920616464656400000000000000006044820152606401610271565b60006108a5600283612ab5565b905060006108b38284612bd6565b90506108be82611a72565b476108c98282611b54565b60408051848152602081018390529081018390527f17bbfb9a6069321b6ded73bd96327c9e6b7212a5cd51ff219cd61370acafb5619060600160405180910390a15050600f805460ff191690555050565b60006109286009600a612b0c565b610936906305f5e100612bb7565b905090565b6000610948848484611c20565b6001600160a01b0384166000908152600360209081526040808320338452909152902054828110156109cd5760405162461bcd60e51b815260206004820152602860248201527f45524332303a207472616e7366657220616d6f756e74206578636565647320616044820152676c6c6f77616e636560c01b6064820152608401610271565b6109da8533858403611779565b506001949350505050565b6000546001600160a01b03163314610a0f5760405162461bcd60e51b8152600401610271906129c9565b600681600954610a1f9190612a9d565b1115610a655760405162461bcd60e51b8152602060048201526015602482015274466565732063616e6e6f742065786365656420362560581b6044820152606401610271565b600a5481811415610ab85760405162461bcd60e51b815260206004820181905260248201527f4c6971756964697479206665652063616e6e6f74206265207468652073616d656044820152606401610271565b600a82905560408051828152602081018490527f2596ea4192286cc20062cf773414aef3b23a5b57b4bdc47f888e9d9059d838c491015b60405180910390a15050565b6000546001600160a01b03163314610b255760405162461bcd60e51b8152600401610271906129c9565b6001600160a01b03811660009081526005602052604090205460ff16610b8d5760405162461bcd60e51b815260206004820152601b60248201527f4163636f756e7420697320616c7265616479206578636c7564656400000000006044820152606401610271565b6001600160a01b03811660009081526002602052604081205490610bb18282610e02565b90508160076000828254610bc59190612a9d565b925050819055508060086000828254610bde9190612a9d565b90915550506001600160a01b0383166000818152600160209081526040808320859055600282528083208390556005825291829020805460ff1916905590519182527f47ab6b2d1f416edec684889dc42cd04ed7cc6c6244edaa04c4215e107754861491015b60405180910390a1505050565b3360008181526003602090815260408083206001600160a01b038716845290915281205490916107d2918590610c88908690612a9d565b611779565b3360008181526005602052604090205460ff1615610d025760405162461bcd60e51b815260206004820152602c60248201527f4578636c75646564206164647265737365732063616e6e6f742063616c6c207460448201526b3434b990333ab731ba34b7b760a11b6064820152608401610271565b6000610d0f836000611e20565b505050506001600160a01b038516600090815260016020526040902054929350610d3d928492509050612bd6565b6001600160a01b038316600090815260016020526040902055600854610d64908290612bd6565b600855600654610d75908490612a9d565b600655505050565b6000546001600160a01b03163314610da75760405162461bcd60e51b8152600401610271906129c9565b6001600160a01b038116600081815260046020908152604091829020805460ff1916600117905590519182527ff1d6512ec7550bf605a5a38910e48fb6a57938ed74a5afa01753fa023001005c91015b60405180910390a150565b6000610e106009600a612b0c565b610e1e906305f5e100612bb7565b831115610e6d5760405162461bcd60e51b815260206004820152601f60248201527f416d6f756e74206d757374206265206c657373207468616e20737570706c79006044820152606401610271565b6000610e798484611e20565b50939998505050505050505050565b6000546001600160a01b03163314610eb25760405162461bcd60e51b8152600401610271906129c9565b6001600160a01b03811660009081526005602052604090205460ff1615610f1b5760405162461bcd60e51b815260206004820152601b60248201527f4163636f756e7420697320616c7265616479206578636c7564656400000000006044820152606401610271565b6001600160a01b0381166000908152600160205260409020548015610f97576000610f4582611ebc565b6001600160a01b0384166000908152600260205260408120829055600880549293508492909190610f77908490612bd6565b925050819055508060076000828254610f909190612bd6565b9091555050505b6001600160a01b038216600081815260056020908152604091829020805460ff1916600117905590519182527f110b1fbed46dec7bc9019c3fba97541a3d64821a824872bb7b2ad678490855bf9101610aef565b6001600160a01b03811660009081526005602052604081205460ff161561102857506001600160a01b031660009081526002602052604090205490565b6001600160a01b0382166000908152600160205260409020546107d690611ebc565b6000546001600160a01b031633146110745760405162461bcd60e51b8152600401610271906129c9565b61107e6000611f40565b565b6000546001600160a01b031633146110aa5760405162461bcd60e51b8152600401610271906129c9565b6110b48282611f90565b5050565b336001600160a01b037f000000000000000000000000e020ac69748de81626f9c283179a2c0902e7aaca16146111405760405162461bcd60e51b815260206004820152602760248201527f63616e206f6e6c792062652063616c6c65642062792054696d656c6f636b20636044820152661bdb9d1c9858dd60ca1b6064820152608401610271565b600b546001600160a01b039081169082168114156111aa5760405162461bcd60e51b815260206004820152602160248201527f43616e277420736574207468652073616d6520726f75746572206164647265736044820152607360f81b6064820152608401610271565b600b80546001600160a01b0319166001600160a01b038416908117909155604080516315ab88c960e31b8152905163ad5c464891600480820192602092909190829003018186803b1580156111fe57600080fd5b505afa158015611212573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611236919061278e565b600d80546001600160a01b0319166001600160a01b03928316179055600b546040805163c45a015560e01b81529051600093929092169163c45a015591600480820192602092909190829003018186803b15801561129357600080fd5b505afa1580156112a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112cb919061278e565b600d5460405163e6a4390560e01b81523060048201526001600160a01b03918216602482015291169063e6a439059060440160206040518083038186803b15801561131557600080fd5b505afa158015611329573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061134d919061278e565b600c80546001600160a01b0319166001600160a01b0383161790559050611375816001611f90565b6113823084600019611779565b61138e30836000611779565b6040516001600160a01b03841681527f455a5e52b7c01aa52d717db42e17b6610b0c2c96560c85b7e5adcdd254bfc17c90602001610c44565b6000546001600160a01b031633146113f15760405162461bcd60e51b8152600401610271906129c9565b6113fd6009600a612b0c565b6114079082612bb7565b60108190556040519081527f5948780118f41f7c4577ae4619d5cbd064057bd8562d9f7b7e60324053375c0090602001610df7565b3360009081526003602090815260408083206001600160a01b0386168452909152812054828110156114be5760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b6064820152608401610271565b6114cb3385858403611779565b5060019392505050565b60006107d2338484611c20565b6000546001600160a01b0316331461150c5760405162461bcd60e51b8152600401610271906129c9565b6006600a548261151c9190612a9d565b11156115625760405162461bcd60e51b8152602060048201526015602482015274466565732063616e6e6f742065786365656420362560581b6044820152606401610271565b600954818114156115b55760405162461bcd60e51b815260206004820152601a60248201527f546178206665652063616e6e6f74206265207468652073616d650000000000006044820152606401610271565b600982905560408051828152602081018490527f2211abb4bbc4d80b7505c31b54d01d15ac6e33a42c59540d309d89daf759063a9101610aef565b6000546001600160a01b0316331461161a5760405162461bcd60e51b8152600401610271906129c9565b600f80548215156101000261ff00199091161790556040517f53726dfcaf90650aa7eb35524f4d3220f07413c8d6cb404cc8c18bf5591bc15990610df790831515815260200190565b6000546001600160a01b0316331461168d5760405162461bcd60e51b8152600401610271906129c9565b6001600160a01b038116600081815260046020908152604091829020805460ff1916905590519182527f78ce087db51d01d3e32355f2d83455d5a39f99194c8d3d1c2614893695cee4429101610df7565b6000546001600160a01b031633146117085760405162461bcd60e51b8152600401610271906129c9565b6001600160a01b03811661176d5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610271565b61177681611f40565b50565b6001600160a01b0383166117db5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b6064820152608401610271565b6001600160a01b03821661183c5760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b6064820152608401610271565b6001600160a01b0383811660008181526003602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591015b60405180910390a3505050565b600d54600c546040516370a0823160e01b81526001600160a01b039182166004820152600092839216906370a082319060240160206040518083038186803b1580156118e957600080fd5b505afa1580156118fd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611921919061290a565b9050600080600c60009054906101000a90046001600160a01b03166001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561197457600080fd5b505afa158015611988573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119ac91906128a1565b506001600160701b031691506001600160701b03169150306001600160a01b0316600c60009054906101000a90046001600160a01b03166001600160a01b0316630dfe16816040518163ffffffff1660e01b815260040160206040518083038186803b158015611a1b57600080fd5b505afa158015611a2f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a53919061278e565b6001600160a01b03161415611a6b5790911192915050565b5010919050565b6040805160028082526060820183526000926020830190803683370190505090503081600081518110611aa757611aa7612c2d565b6001600160a01b039283166020918202929092010152600d54825191169082906001908110611ad857611ad8612c2d565b6001600160a01b039283166020918202929092010152600b5460405163791ac94760e01b815291169063791ac94790611b1e908590600090869030904290600401612a2c565b600060405180830381600087803b158015611b3857600080fd5b505af1158015611b4c573d6000803e3d6000fd5b505050505050565b600b546001600160a01b031663f305d719823085600080611b7d6000546001600160a01b031690565b60405160e088901b6001600160e01b03191681526001600160a01b03958616600482015260248101949094526044840192909252606483015290911660848201524260a482015260c4016060604051808303818588803b158015611be057600080fd5b505af1158015611bf4573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190611c199190612946565b5050505050565b6001600160a01b038316611c845760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b6064820152608401610271565b6001600160a01b038216611ce65760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b6064820152608401610271565b6001600160a01b038083166000908152600e602052604080822054928616825281205460ff928316921690611d1a30610feb565b6010549091508082108015908190611d355750600f5460ff16155b8015611d3e5750845b8015611d48575083155b8015611d5b5750600f54610100900460ff165b15611dac5760405163173865ad60e01b815260048101839052309063173865ad90602401600060405180830381600087803b158015611d9957600080fd5b505af1925050508015611daa575060015b505b60008580611db75750845b9050808015611e0057506001600160a01b03891660009081526004602052604090205460ff1680611e0057506001600160a01b03881660009081526004602052604090205460ff165b15611e09575060005b611e158989898461204e565b505050505050505050565b600080600080600080600087611e60576000611e3a6120ed565b611e44908b612bb7565b975087965060009550899450859350839250829150611eb09050565b6000806000611e6e8c612110565b9250925092506000611e898d8484611e846120ed565b612153565b805160208201516040830151606090930151919d509b509099509397509195509350909150505b92959891949750929550565b6000600854821115611f235760405162461bcd60e51b815260206004820152602a60248201527f416d6f756e74206d757374206265206c657373207468616e20746f74616c207260448201526965666c656374696f6e7360b01b6064820152608401610271565b6000611f2d6120ed565b9050611f398184612ab5565b9392505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b0382166000908152600e602052604090205460ff1615158115151415611ff25760405162461bcd60e51b815260206004820152601060248201526f14185a5c88185b1c9958591e481cd95d60821b6044820152606401610271565b6001600160a01b0382166000818152600e6020908152604091829020805460ff19168515159081179091558251938452908301527f160ff69a72bc70f3e792a86c87d27070e421562197f032d96bcab11c5010222e9101610aef565b6001600160a01b0380851660009081526005602052604080822054928616825290205460ff9182169116818015612083575080155b1561209957612094868686866121e9565b611b4c565b811580156120a45750805b156120b55761209486868686612342565b811580156120c1575080155b156120d2576120948686868661241b565b8180156120dc5750805b15611b4c57611b4c868686866124bc565b60008060006120fa61259f565b90925090506121098183612ab5565b9250505090565b60008060008061211f8561260c565b9050600061212c86612628565b905060008161213b8489612bd6565b6121459190612bd6565b979296509094509092505050565b61217e6040518060800160405280600081526020016000815260200160008152602001600081525090565b600061218a8387612bb7565b905060006121988487612bb7565b905060006121a68587612bb7565b90506000816121b58486612bd6565b6121bf9190612bd6565b60408051608081018252958652602086019190915284019290925260608301525095945050505050565b60008060008060008060006121fe8989611e20565b965096509650965096509650965088600260008d6001600160a01b03166001600160a01b031681526020019081526020016000205410156122515760405162461bcd60e51b8152600401610271906129fe565b6001600160a01b03808c16600090815260026020908152604080832080548e90039055928d168252600190529081208054889290612290908490612a9d565b9250508190555086600860008282546122a99190612a9d565b9250508190555088600760008282546122c29190612a9d565b909155505081156122d8576122d88b828461263a565b82156122e8576122e8858461271f565b896001600160a01b03168b6001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8660405161232d91815260200190565b60405180910390a35050505050505050505050565b60008060008060008060006123578989611e20565b965096509650965096509650965086600160008d6001600160a01b03166001600160a01b031681526020019081526020016000205410156123aa5760405162461bcd60e51b8152600401610271906129fe565b6001600160a01b03808c16600090815260016020908152604080832080548c90039055928d1682526002905290812080548692906123e9908490612a9d565b9250508190555085600860008282546124029190612bd6565b9250508190555083600760008282546122c29190612bd6565b60008060008060008060006124308989611e20565b965096509650965096509650965086600160008d6001600160a01b03166001600160a01b031681526020019081526020016000205410156124835760405162461bcd60e51b8152600401610271906129fe565b6001600160a01b03808c1660009081526001602052604080822080548b90039055918c16815290812080548892906122c2908490612a9d565b60008060008060008060006124d18989611e20565b965096509650965096509650965088600260008d6001600160a01b03166001600160a01b031681526020019081526020016000205410156125245760405162461bcd60e51b8152600401610271906129fe565b6001600160a01b03808c1660009081526002602052604080822080548d90039055918c168152908120805486929061255d908490612a9d565b9091555061256d90508688612bd6565b6008600082825461257e9190612a9d565b9091555061258e9050848a612bd6565b600760008282546122c29190612a9d565b600754600090819080612601576125b86009600a612b0c565b6125c6906305f5e100612bb7565b6125d290600019612bed565b6125de90600019612bd6565b6125ea6009600a612b0c565b6125f8906305f5e100612bb7565b92509250509091565b600854939092509050565b600060646009548361261e9190612bb7565b6107d69190612ab5565b60006064600a548361261e9190612bb7565b3060009081526005602052604090205460ff16156126b6573060009081526002602052604090205461266d908290612a9d565b3060009081526002602052604081209190915560088054849290612692908490612bd6565b9250508190555080600760008282546126ab9190612bd6565b909155506126e29050565b306000908152600160205260409020546126d1908390612a9d565b306000908152600160205260409020555b60405181815230906001600160a01b038516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90602001611891565b8160085461272d9190612bd6565b60085560065461273e908290612a9d565b6006555050565b8035801515811461275557600080fd5b919050565b80516001600160701b038116811461275557600080fd5b60006020828403121561278357600080fd5b8135611f3981612c43565b6000602082840312156127a057600080fd5b8151611f3981612c43565b600080604083850312156127be57600080fd5b82356127c981612c43565b915060208301356127d981612c43565b809150509250929050565b6000806000606084860312156127f957600080fd5b833561280481612c43565b9250602084013561281481612c43565b929592945050506040919091013590565b6000806040838503121561283857600080fd5b823561284381612c43565b915061285160208401612745565b90509250929050565b6000806040838503121561286d57600080fd5b823561287881612c43565b946020939093013593505050565b60006020828403121561289857600080fd5b611f3982612745565b6000806000606084860312156128b657600080fd5b6128bf8461275a565b92506128cd6020850161275a565b9150604084015163ffffffff811681146128e657600080fd5b809150509250925092565b60006020828403121561290357600080fd5b5035919050565b60006020828403121561291c57600080fd5b5051919050565b6000806040838503121561293657600080fd5b8235915061285160208401612745565b60008060006060848603121561295b57600080fd5b8351925060208401519150604084015190509250925092565b600060208083528351808285015260005b818110156129a157858101830151858201604001528201612985565b818111156129b3576000604083870101525b50601f01601f1916929092016040019392505050565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b602080825260149082015273496e73756666696369656e742042616c616e636560601b604082015260600190565b600060a082018783526020878185015260a0604085015281875180845260c086019150828901935060005b81811015612a7c5784516001600160a01b031683529383019391830191600101612a57565b50506001600160a01b03969096166060850152505050608001529392505050565b60008219821115612ab057612ab0612c01565b500190565b600082612ac457612ac4612c17565b500490565b600181815b80851115612b04578160001904821115612aea57612aea612c01565b80851615612af757918102915b93841c9390800290612ace565b509250929050565b6000611f3960ff841683600082612b25575060016107d6565b81612b32575060006107d6565b8160018114612b485760028114612b5257612b6e565b60019150506107d6565b60ff841115612b6357612b63612c01565b50506001821b6107d6565b5060208310610133831016604e8410600b8410161715612b91575081810a6107d6565b612b9b8383612ac9565b8060001904821115612baf57612baf612c01565b029392505050565b6000816000190483118215151615612bd157612bd1612c01565b500290565b600082821015612be857612be8612c01565b500390565b600082612bfc57612bfc612c17565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6001600160a01b038116811461177657600080fdfea26469706673582212201b55477b3948ed758cf43fc37baf9ff6c36666812d0c1264708a30f2593ed56b64736f6c63430008070033